<%- layout("layouts/boilerplate.ejs") %>
    <h1>
        <%=campground.name%>
    </h1>
    <hr>
    <div class="card container overflow-hidden mb-3">
        <div class="row position-relative">
            <div class="col-4 position-relative" style="min-height: 100%">
                <img src="<%=campground.image%>" class="card-img-top position-absolute position-absolute top-50 start-50 translate-middle" alt="<%=campground.description%>" style="min-height: 100%;">
            </div>
            <div class=" card-body col-8 p-5">
                <h5 class=" card-title ">
                    <%=campground.name%>
                </h5>
                <ul class="list-group list-group-flush mx-0 my-3">
                    <li class="list-group-item"><b>Location: </b>
                        <%=campground.location%>
                    </li>
                    <li class="list-group-item"><b>Price per Night: </b>$
                        <%=campground.price%>
                    </li>
                </ul>
                <p class="card-text">
                    <%=campground.description%>
                </p>
                <a href=" /campgrounds/edit/<%=campground.id%>" class="btn btn-success">Edit</a>
                <a href="/campgrounds/delete/<%=campground.id%>"><button class="btn btn-danger">Delete</button></a>
            </div>
        </div>
    </div>
    <h2 class="my-3">Reviews</h2>
    <div class="card my-3 bg-light">
        <div class="card-body">
            <h3>Add a Review</h3>
            <form action="/campground/<%=campground.id%>/review" method="POST" class="needs-validation" novalidate>
                <div class="container">
                    <div class="row">
                        <div class="col-3 mb-3">
                            <label for="name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="name" name="review[name]" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please enter your Name
                            </div>
                        </div>
                        <div class="col-6 mb-3">
                            <label for="comment" class="form-label">Your Comments</label>
                            <input type="text" class="form-control" id="comment" name="review[comment]" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please leave a comment
                            </div>
                        </div>
                        <div class="col-3 mb-3">
                            <label for="rating" class="form-label">Rating</label>
                            <input type="range" class="form-range" id="rating" name="review[rating]" min="1" max="5" step="1" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2">
                            <button class="btn btn-success">Submit</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <%for (let review of campground.reviews) {%>
        <div class="card my-3">
            <div class="card-body">
                <div class="d-flex bd-highlight flex-row justify-content-between align-items-center">
                    <div>
                        <p class="m-0">
                            <%=review.name%> -
                                <%=review.comment%> -
                                    <%=review.rating%>/5
                        </p>
                    </div>
                    <div class="d-flex bd-highlight flex-row justify-content-between align-items-center">
                        <form action="/campground/<%=campground.id%>/review/<%=review.id%>?_method=DELETE" method="POST">
                            <button class="btn btn-success">Edit</button>
                        </form>
                        <form action="/campground/<%=campground.id%>/review/<%=review.id%>?_method=DELETE" method="POST" class="ms-2">
                            <button class="btn btn-danger">Delete</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <%}%>